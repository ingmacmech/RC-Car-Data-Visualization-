function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 11-Nov-2017 21:09:45.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 7xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [716;3063;0;0;-24648;-29100;-5704];
x1_step1.gain = [0.000378644452858766;0.000686106346483705;5.65961784845383e-08;5.67328005650587e-08;3.48341025864321e-05;3.232741202903e-05;5.19872111460581e-05];
x1_step1.ymin = -1;

% Layer 1
b1 = [-4.0872548453906621;-1.9223928696158767;2.5965702308695127;-3.6887007147216173;-3.3984280025755504;3.0218121984195276;4.0698388246713026;-2.0869110955936705;-1.1314014860985859;-3.7253529263207517;4.0696687753734944;-2.4821376966935915;-2.1130568293905818;1.8662413995092602;-2.7724440960235759;1.7024675109800871;2.7591355956210322;-1.3911906632370723;-3.7168618317236661;-1.0608154063145185;-1.5932297299037392;1.7941405765233673;-0.11819258867231601;-0.68853246685226233;-0.62657617134342336;-2.257238605232132;-1.4439273113532978;2.8431177134672478;-2.2372019439119644;1.0593640725010121;0.14023787650845398;0.79073861195182038;1.1534155802308477;0.29330263488984726;1.2062851740010487;-0.46087662564960397;-0.58366930173454445;-0.18748294581323161;1.2560965060524121;1.4273735604388413;0.21894270375016511;-0.21466038190787848;1.7520900767380265;0.56988230646217497;-0.37842734744915624;-0.26243004620755284;-0.43453339076747516;3.2284421650290098;2.065278379071767;1.2975947713886591;-2.0663692091697468;-0.11734245521880024;0.33749767137754239;-0.70474889934346596;-0.3176945200562008;-3.154653525891252;1.4618581809528908;-1.6298323906594663;1.2069687656788002;-1.4046801686527974;1.3879738542931821;-1.3982097676311962;1.6966893528843734;1.5947497793566983;4.4100534067778634;1.7894349578946309;1.2798738501549674;-1.7037113989371915;-2.243282703039625;-1.9583083033710798;1.9922101950726441;-2.2927297066531445;3.1982249652621499;-2.193673518094688;1.4148438501293548;-1.2837118331461028;-2.5183715724765747;-2.2441162218035089;2.6460607426894107;-2.8374565426344067];
IW1_1 = [2.2114828966460176 0.29810267726568845 1.1322333866006209 -3.5949189761772185 -2.4325169141982217 0.89039482191738795 -0.18891320140118545;2.0266413795963572 0.74437043616864473 -0.83416024725785065 -1.3356695320204848 -0.29094396132305289 -1.4236513764348318 0.68682874944485062;-1.4499979392196216 0.27861744160289798 -1.1882172254115473 1.1133299876668097 2.068260703916859 -0.15616503841897728 -0.046140093810233034;1.7119924911175974 1.428428857918089 -0.5456096720314898 -2.3835738045482997 1.2972963240398234 -0.81804499042771295 2.5248816577571476;1.7934266533048089 2.7587256585489182 -1.5938529976288953 0.039504603356907475 -0.050442612429269076 -0.30312204931050052 -1.3194195295102997;-2.3738979144358905 -0.84360223369500176 -0.51909715492330877 1.3494908018529475 0.33386332075764907 1.0884599022987078 0.33980802782735375;-2.9423840850645413 0.91151562456456348 2.553265451353333 0.11289184695658286 -0.015553403601551708 -0.20747175781753474 -1.7576218670716752;0.22871211468121719 1.9482707516330287 1.3089232804643349 -0.11191813281377008 -0.76260764516648372 -1.4311613427719714 -0.88830211820957017;1.2090843861584153 -1.0013999936876286 0.50098318937604058 -0.61759634991404333 2.0034564188617399 -2.4708201121704829 0.39933781839565785;6.6496210113465226 0.23472602319100497 -2.3270677085235909 1.2413717812788658 -1.9124419631090328 -1.2272258810022658 -1.0461642187795259;-2.6676541809468994 -1.8094145686227314 -0.052198893113268169 2.1348380679254766 -0.54906127715998099 0.41139990171330626 -0.63169031785629215;1.5643571761190962 -2.1133812998833363 -1.2798046220147716 0.29497926455385753 -0.4874061068470017 -0.70369058172837207 0.91667761827143535;1.3179347291019781 0.19149970473496608 1.5045705271987917 -0.7678726819694488 -1.9418010923521491 -0.45222666311534609 0.853757010101169;-0.0056119870252232832 0.86527208089089913 -1.3195542758662122 -0.74515901139292129 1.4470328569080337 0.9856742060213004 -0.45140475500288879;-0.5985181084777248 0.95658896976012153 -2.9843416161394374 -1.1685927965604697 -0.60450556856672621 -0.58921350073414147 0.14583104038075906;-1.8037252445573908 -1.0322479350985634 -1.2012508495854182 0.68078314151641073 -0.94590438190932036 1.3199423889519883 -1.9280108112475327;-0.032239832854819711 0.13245876834687823 1.7254326192786729 1.1338778372999203 -0.13300032276721194 -0.11457436596162224 1.4735699956592139;1.8073390353571406 -1.06310604761529 0.97426634753370223 -0.16197352349587393 -1.1871465624208759 -0.13901499368875514 0.81160235075314902;2.2901371268161759 -0.41833411869224013 -0.71189897736233143 -1.8289034550492715 0.71825784027892725 0.71446981752658634 -0.37442800965800377;2.1101748173151917 -1.4920734838974732 0.26842026490186377 2.5417881208446511 -0.28755775480645346 -0.7179929584994571 0.1723690811776139;0.5748938838594343 -0.81131758418078126 -0.28638092881201749 -1.5026070225334718 1.2607487176018122 1.6561216992307342 -0.068877761158249048;-2.6876791718214887 -0.061261506478572078 -0.65763981269760818 1.3671170043290131 1.5390106988811607 -2.1448307132894513 0.48701743153728011;1.7555483916944252 -0.62240159108373561 0.7515268239961943 1.9306987866736374 -1.4819934294989452 -0.41777671120737281 0.96574054114880925;1.3682646465113772 -0.54221795402269046 -0.98286276125310912 0.70641638951875219 1.7024805392181743 0.34202148328205462 -0.83786638250593781;0.66432901046936876 -2.6577924734699025 1.1618953988257901 -1.8455845139298317 -2.1024464340283102 -1.5663491632595219 -0.74560508860318286;1.9272627694789923 1.7662852464924654 -0.32024634585808975 -1.0827399879232449 1.0823170014081986 -2.2605317774242741 -0.75123112261025082;2.820046829332945 -0.8903839712037942 1.2380267068918647 -1.1833067552069987 0.39918567621496714 -0.062534735186015822 1.7093935892680081;0.68795642870028595 1.1365236505938452 0.96812861127503147 2.66048257608049 1.8989898337979292 1.4557701526450377 0.22272761101511196;2.4339437094410532 1.9860661425313524 0.72393223394703821 -2.4541118935662962 0.54979532799583175 0.076649209412744418 0.55378152902205779;-0.25308408878160638 0.35133404820772796 -1.1897617492610399 1.6309756734436822 2.2735885831384697 0.60046210072289641 0.4286644755524916;0.9341639131093129 0.56226340407432485 3.6591740446113534 -2.805266127636358 -2.3981572709443504 -0.43469798604901766 -0.2084877676276207;-0.62922136596805966 -1.3673927710257139 0.87727045611364718 2.3622055653099747 1.0447487791120051 2.1640711740975198 0.47920102125314923;-1.7495791761340258 -3.2073047910674966 0.6298054472143586 0.30852324891666244 -0.55150120857972729 0.06796807252278747 0.772232768571952;-3.0551015875454786 1.3058280026713769 0.10757775815192386 0.19971804570132487 -1.4074338425208155 0.72819271689228238 0.57144819629831967;-1.4594797995482742 -1.6967399908172212 0.67098878069860457 0.21516563020902194 1.1721251066068086 -1.0745325636956733 -0.085690039818587846;2.0000099687323409 1.7671871808000157 -0.70656615196673989 1.443902716741766 0.98657873387480799 -0.043863869808302647 2.2037407221753971;0.47162504892824719 -0.15521198222147781 0.15948256671793423 1.7695973591812595 -1.2889892429775354 -0.3553398512734432 -1.001113565227197;-1.7087926127849862 2.5960571198381119 -0.93228716665732791 -1.1398202285036199 0.34279029651615767 0.72998077467356826 -1.3115404238879595;1.8675392423068682 0.18759505488279729 1.4343360237670226 1.1678158376505874 2.4626388415447495 1.143523105015305 -0.25192666942437114;-1.3030906408353684 -0.21430079820520748 1.0398552861997994 0.75621943752856013 -3.3833071926542537 -0.63895383509972503 -0.47851197974255449;-0.36987912058117489 -2.1408289848532038 0.15217989509124952 -0.85729333743488234 -1.958529573835013 -1.5086377015673189 -0.44212370473577034;0.18062894548551631 1.6968681919152773 -0.70011301625396816 1.3621309922821951 -0.95671106438038755 -1.2672297557302055 -0.38947129591469937;0.46727375329510357 -0.11153218232245837 1.63771753072088 0.060834762535812027 2.3534516856102177 0.99731872653311548 -0.89885024070394404;1.8737937080000822 2.3870288029869284 -0.81079117237322684 -0.46422486702179672 0.34479289368422728 1.9275060493079352 -0.11270451670962828;-1.0855877437179604 1.2066390633072648 -0.21682389889594333 1.9159308484810254 -1.1321851644279655 -0.69124776796126364 0.24128191555093781;-0.34054825766590974 2.076240768812927 1.7825888283075664 0.77731564160395505 -0.30483238297190696 0.99051338908893549 0.26992865200805427;-0.26430672219251261 -1.618188590998981 1.904048469406538 0.23994072837704108 0.0055500975681243847 1.0667744805404189 0.80509884850041791;-0.078237515149820774 0.30755121867603002 0.71213168380469138 2.3313441737957707 3.2207527492777972 -1.1493778304161191 0.54134739050309322;2.1762928902667964 -0.75270964770522519 3.5845166775531823 1.0317831967915452 -0.8300792297431987 2.2306244875124102 -0.57547702961363745;2.645652058076573 1.9595840096517008 0.74452503196870068 2.0407662792547008 1.3560426372260721 -2.6974955226724164 -0.96571616428378337;-0.88939188289547633 -1.4097472994377176 -1.4882579714724053 -2.2420591044169891 0.044205668799804636 1.1667871057407555 0.72876067024085311;0.5753286009417018 0.76711079397791215 0.1429640012435289 -2.6972733096194199 -0.90933347503579132 -0.14051720768543255 -1.1503749747112273;0.59302917789304899 -0.53811468624327208 0.047587787175162787 1.3462176940996742 -1.7323690776166374 1.4106113908258193 -0.077042288462267794;-1.8041578545178079 -1.1952651902758009 -0.7310282368599611 -2.1955235919542417 -1.3274200353460095 -0.46984067536892155 -0.27948650140149878;-1.9802963738558448 -0.86097045876750411 1.3247294990677971 0.28795701497589637 -0.225835148663839 -0.10781940364853286 0.68875360582765599;-0.62520231210742683 -2.8698171158600134 -4.003525210937763 -2.1160147143682924 -1.2861613513535266 0.45239511915954811 -0.31391506344658032;1.3939632676281148 1.046977251822097 -0.80583130313560347 1.4046007284677553 0.072672138054407018 -0.18805366153037611 -0.33777461485708887;-1.1555925651874301 1.1909495721025469 -1.4202045606237188 0.54053338350563473 -1.6525373367660372 1.197895603115932 0.69233575534932501;0.59129935494235841 0.26101161731778677 -1.823256661924664 0.068281101799932131 -0.7417368921413372 -0.18488880318121134 1.5636054612443402;-1.5568012204756123 -1.9693497019448507 0.10292547685389139 0.23988819697622044 0.2942604536531806 -1.4879019048474624 0.22273892969496845;0.78607387510921178 1.1604241357206737 -0.54364350015571894 -1.4497230215153349 -0.9096628890759374 -0.99430648081377837 -0.55451422045555265;-1.0502564082047181 0.39125686963026213 1.4189071850585118 0.51541440584643516 -0.86393184097990183 0.8355424227205811 -1.1762442354737059;0.1207040533527621 -0.57764891457303746 -0.2662082110890171 -2.3345376859770006 0.70206493589863339 -0.16656544281645685 0.44375570719478546;0.70705555421243937 0.040038318190077429 -1.039420285271204 -1.4748249356656817 -0.84543960032110921 -1.2138025377285715 -0.82416900407301386;2.0325937696424003 0.023073563238691697 1.0628890552927885 3.115006875363822 4.5446575076881288 0.84670818929483416 0.19232432550159584;1.3268724258844167 -1.0613778301248171 1.2232146241079866 -1.1480651321213682 0.93980487702025539 0.61450686393324783 0.41766401514033386;0.7120637606516721 -1.2302218759822967 -0.36001136439860792 1.5392616293107344 -0.29210047894810515 -2.2362271701377017 -0.21213038711505211;-1.2723221531188964 -1.2615444940274492 -1.2272642429005347 0.89501832662820591 -0.47549722839893954 0.85956644349772826 -0.50458513803188931;-1.4520072233019783 -1.0852183740755541 -0.58493544113723439 1.1013986609194968 0.4842577704099173 -0.95760131642777357 0.45446003752091241;-1.941917734410078 -1.0195360685012456 -1.2885584084825596 -1.7085538728228391 -0.48434021536288729 0.14459025974983533 -0.2844746684317212;1.3840638890811663 -0.027064350940686085 0.56719201569154765 0.76845490650818349 1.4713609212415613 -0.96954770046422867 0.97119236411124577;-1.1088937797176117 -2.2132560690101633 -1.9169292133970337 -0.21891145660246675 2.1707712186601684 -0.53083887688877507 0.26536913523834316;1.0341167872052144 1.8668958944852787 0.79249765317937237 0.7344838877093407 1.4391182079901246 -0.81059864856876263 0.48632411420254734;-0.97661077381095396 1.6741257564430445 0.82108330323866574 0.54366013974518734 -0.93129998944467396 -0.85547108962458596 0.77068638988104987;2.3588162175686094 -0.165285841611261 -0.8698758614155504 0.93813609606426507 -0.057268810860379549 -2.0174464947618058 0.063952508219223755;-0.78572662198677867 -0.87019576149206834 -0.9402612912600532 0.51882388442224436 -0.7903756551744654 1.1207579240123287 -2.0052044682909216;-1.2548280142237005 -1.0965259380678265 -0.80911996882475856 -0.13190754721833547 -0.47640247864348401 1.0021865614868306 -1.0840950869399248;-1.150952076765227 1.7269263266560633 -1.1477926312773905 1.4383977118656162 -0.70948416762698963 -0.095129951493192144 -0.12106160910982662;0.34974496975881192 -0.23020056544455061 0.035076873619733988 -1.5320189163897289 -1.6478923481814607 -0.28100092259695897 -0.91616192868419155;0.037218725352757345 -1.0563540418572765 -0.041170851901889752 -1.0692069088342706 -1.2325399632101957 0.68054472915951725 -0.82586285752263966];

% Layer 2
b2 = 0.35342790756057463;
LW2_1 = [0.85211590093672984 0.23823922113812612 1.6233915455200445 -1.1309353954124794 0.97280303034045645 0.81370427751535435 1.4263754305385556 0.70798482337368362 -0.33956978319312092 -0.46355932071570072 -2.0464081319156371 1.9032904572645586 -1.632004657981865 -0.012676679362805579 -1.6000776636007581 0.69709698053928981 0.95180431487991768 -1.3416328025578563 2.4823330814166629 1.9465545161255553 -0.79237737301169209 0.63029739682314445 1.3183957364909187 -0.68921723723484296 -0.69195280128867742 -1.5483107497527433 1.4733792486165778 1.9633543834892209 1.8576028614336111 -2.0787934602871467 -1.1569420844714908 -0.99231638068348027 -0.37011510798747171 -1.18843475406882 1.3341520699648246 0.593327216088261 0.21577832654308512 0.9293231823211846 -1.9742327829686206 -1.9067409821604113 1.8616669495551283 0.77399574802743831 1.152871981847017 0.93555702827381026 -0.69457853731676011 0.87928323096798855 1.0107464181633994 1.103387738240883 -1.3599360287305069 1.1208960234817029 1.807786176288608 1.4788713041991446 1.3471950498952565 -0.70292888221255134 0.68784594358131201 -0.99529683027018434 -0.55050741304544393 0.84946221107863262 0.15012834945179349 -0.56241676522957929 0.32876115219058366 0.33977575432336726 -0.63024234455883787 0.08869019903944407 -1.8160272118678544 0.39704942770998747 0.80386753522246168 0.22556766010127474 0.135843103558562 2.831524736665199 0.379780179561648 -1.3453189324706247 1.3448269260885874 0.10510238885235205 -1.7680917634067812 0.86204988142399175 0.14694695285977233 -0.066381485666122272 0.80388399545853695 -0.34144489894448599];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.299243267036879;
y1_step1.xoffset = -0.637239026838279;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
