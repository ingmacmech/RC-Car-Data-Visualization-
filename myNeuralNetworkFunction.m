function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 12-Nov-2017 12:15:38.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 7xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [716;3084;0;0;-19808;-31224;-10756];
x1_step1.gain = [0.000378286362776622;0.000691323885240235;5.96230090796601e-08;5.67328005650587e-08;3.80408939610081e-05;3.12949865431558e-05;4.59527146566183e-05];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.6512727578889588;2.6185380000891403;2.4393732105960702;-2.911557508938766;2.8178447404489377;2.4257862274606139;1.7469469834129587;3.9845484115237388;2.2498548418532227;2.1600818466615657;2.3790940400887743;1.4446652064278855;-2.1408076388682673;-2.4624457913562967;1.4541339441071479;-2.0013917419295457;-1.6694354659638322;1.9450379673182094;1.2403048446386242;0.99377057607397279;1.9926999929715459;-1.1061630418356547;1.1043684629757518;-2.7576953887952529;1.8217608894252424;0.85627008349858114;0.56075227510471115;1.3047236772316033;-0.48369241007723135;-1.072799412519007;-0.64931339125338594;-0.25644928534416189;-0.78945921700447208;-0.68561131819825394;0.57699579883566865;-0.19250383364926973;-0.29722981826982936;-0.77861529344740021;-0.18219415342637882;0.055260628606420038;-0.24545314192858919;0.028096453226077893;-0.3954457521660063;0.6632884667282708;-0.47244272705282336;-0.81587413812412857;0.67950619506173626;0.82604279026752736;0.96790728366018108;-0.71556665570643807;1.3893331418247195;-0.72834236597687463;0.75624600106309181;-0.62342341192787132;-0.49283106860128451;1.0267629919587173;1.1329999328594189;-0.49912364717090307;1.1012674081514948;1.1761710140267707;1.0520588526048471;-1.6443082674489298;2.4283868626295884;-1.697580823583295;-1.0473783815428666;1.940569767292591;-1.7435339699700347;1.4127152738429674;-1.8595997181173463;-1.8956781994670395;-2.3098573308589794;-2.2165264861463494;-1.9332929681541715;-2.2029801301086587;2.319380019651534;-2.3433663574819787;2.6246790037832048;-3.9931913950747941;-2.6451757176264201;-2.5908532610808619];
IW1_1 = [-0.6460832859123441 -1.4317917781341183 0.048159254282822861 -1.1048861340589891 1.4228939954271071 -0.9779068961898022 0.23478912221411308;-0.045000021436803664 -0.61627384965870091 1.5531558158437244 -1.9004803422226715 -0.056066287683812159 0.37417868483503902 0.13083200911319981;-0.23435213845026631 0.64590244544350928 -1.9348513291504745 -1.3726432149459247 0.11766767449871364 0.6032588612048172 -0.7479801893550001;2.0136917042450784 0.4194296502897546 -1.2140789829747085 -0.73598645982301392 -0.37748346109822822 1.4364317071033159 -0.99162808527674828;-2.3945507348715513 1.573191529838043 1.2090207106818331 -0.53736555524345653 1.3855783127348877 -0.08134551344170983 -0.052737000282968752;-1.6852895785690984 1.8788903093900429 -1.3168085533609608 -0.29372146361653634 -0.072512792929423753 0.57168102399453669 -0.81579851677875959;-0.74280996154386836 -1.3712038733639971 0.93675734102730035 -1.0840707095612203 1.0964532465620336 -1.5819299841534704 -0.42912418297637822;-0.43319654662963819 -0.23807227460300562 2.8824938186940017 1.0775676413167745 0.47863668080342442 -1.799514546156193 0.35766687590843677;-1.3681777102130033 -1.384438934937765 -0.7336786405075838 0.74092912811703793 -1.5773943838789748 -1.4447901696770922 -0.70375006830562981;-0.6883811415555362 0.19927697280766249 -1.2931701972518177 -0.65505519198715612 -0.094529945920581421 1.2225334671342341 1.3152885983475082;-2.6157048046877311 0.26165781307291702 -1.1903909892670204 0.85598000263232299 1.1329853052751169 1.4248396337801972 0.5563704932040775;-0.65984706180719355 -0.94707438563983004 0.42522571375853668 -0.62154971505262602 -2.0874123203853348 0.15706531980764266 1.3535580773085107;2.5862804082299591 0.52402950512021407 -0.84093670410085219 1.2884376159620661 0.59266101749688338 1.0802579504317746 0.059174941835191452;-0.21731537807912926 1.679572438676795 0.22319431032681686 -3.349619567159293 0.12760407392504666 -1.2832883141083065 1.0956458699658578;-0.44242997601474088 1.5263248813917214 -0.10175544236985139 -0.89893330032667718 -0.60217100930655998 1.3422917025523466 1.2061264756920098;1.0753144217344603 -0.28171826719129528 1.326658833631823 0.83717943038219755 -1.0328186316844383 0.11637996506156674 -0.71970718572029557;0.69490506391019446 1.7097070967537658 1.6302273819932496 0.35043280409669103 0.22605346069971605 0.048485974955592287 -0.68014845710073468;-0.80928425210699817 1.6480115726679159 1.9709859901879425 -1.1281654945093758 -1.1203094343421236 -1.3883569286829853 0.25340926418498771;-1.8135557192827723 -0.36922894757365116 0.84273565724805855 -0.68339893989302725 1.0828828698527364 3.0324628667703188 0.46850715099524531;-1.3512629416330002 1.0843487180060731 -0.97693163677792183 1.2215185445966452 1.0308080644071704 -0.9781039225705872 -0.22265670927871756;-0.70438761299538577 1.1039582833471151 2.2674900487053278 -0.75546663760143551 1.0977690246846994 -1.9193217262915383 -1.1707864465784088;-0.41286664401085077 -1.7971906440068264 0.56940863917309459 -1.9244366592006832 0.26510685134940554 0.11118140085427754 -1.176292784816972;-1.0455548043817449 0.12276348013435921 -1.1119667239815729 0.23646965476766493 0.65430040424520441 -1.376870979045584 -1.0510030578499738;1.2362324137345753 0.031061929342542691 -0.51353335729475968 -1.5379189804028903 -0.32217828187902875 -2.9930582317505428 -0.072333184989195651;-0.31087816957262915 -0.55065880432217829 1.0864395003806584 0.27614245440490881 0.072453639523087962 -1.4752105491906771 1.0110169366940986;-0.085452903547468678 0.14560484964720313 0.062337685187030423 0.48759989311425644 0.62901680504228441 0.9889158254613557 -2.2114646784891625;-1.3176936545844358 2.0088129355263704 -0.27373612545170262 0.29672302218435886 -0.46041606525183498 0.44412550548528429 0.44507234859008632;-0.61002533918040391 -0.51702850505101305 -0.92954928069411535 1.1839193019084326 -1.4068286123543754 0.90918648760950116 0.82347563982718996;-0.21687482715309453 -1.5009533037762535 -1.7481725213491659 0.52614105630659114 -0.54082381533515811 -1.7768619381298896 -0.096025676167351373;0.25299654529604598 1.4696435586559409 -1.5666961395223011 -0.15436021417949225 -1.1992384250502031 0.538855685073237 -0.66342824209451423;0.832210068330973 1.1983823824173918 -1.4613815757938726 -1.0208759258758686 1.0699271795593248 -0.61679566186082269 -0.086669629063460818;0.17320375326439 0.48121257759423858 -0.82665102577290928 -1.7645630729679076 -1.0985527643319168 0.78523235089700649 1.102373428261616;-1.0840877252991645 -0.80525194376390352 -0.042175434817446684 -1.8207296942446907 -0.83688230260070096 1.6138704171831662 1.0234315247651844;1.915354040870386 1.9729558533018166 2.0448218158011118 -1.1934261742960852 0.74473314419299219 -0.72320350940775258 -0.68167282701263965;-0.26645521146067747 0.02450123429401016 0.62847471101581265 -0.36666421234531527 -1.6809640088668036 -0.45291203501082261 1.4633676079704332;2.1195493389506397 -0.97018964209200831 0.92794837902253924 0.45769349472698928 1.1617644357199541 -1.0987079067326952 0.89089185260646153;1.2254811415356448 0.39985092740431921 0.86133221789326031 1.2014030652933902 1.0145610604820161 -1.3628066663038967 -0.76006423875721718;0.5768285309360166 -0.0053563143825229864 0.85058533320872454 -1.1882951920771774 -1.5373307407492378 -1.168287242043818 -0.84793836700627045;0.9242227420739294 -1.4456637507440968 -0.69613950471135344 1.5049342404961841 -0.2066602294878114 -1.6133585559576575 0.38206258029331935;-0.49842604398540741 -0.45006784818105872 1.891149360310999 0.52706746230971857 0.3014591806919773 0.76828983329188039 -1.4108639718972755;1.6456619222518165 -1.6229488553147386 1.7342561545602042 -0.26762805671042766 0.85615583534259954 0.91399581429339827 -0.40931813752978191;0.40433549331037671 1.0280458568210091 0.97266617279490986 1.6522503685276313 0.0046451559712277005 -1.1654828857711126 -0.65458693848231664;-0.20579485337117567 -0.95077832984819055 -1.2685173201383615 0.87396182707426262 1.2354526173289901 -1.436596519917116 0.035997190308460825;1.0586666393174613 1.3465706314863488 -0.57566986734712111 -0.14821249641510728 1.3122671174704703 0.18598739111624568 1.5663601792066812;-1.4084565720529223 -1.6312581678822744 0.80871669411115343 -1.1597024906005244 -0.15795501044866544 0.82223276791314048 -0.15488770201206542;0.048606533323777519 0.12863238694152479 0.94848866581404034 0.070913072116743747 1.8221419586265348 1.9308044199275365 0.22182388225476299;0.18631934759648849 -0.58081287200382314 -1.9304371114878731 0.37612319475500244 0.52541086035618911 -1.3429890800330986 1.061674859434917;1.133319947922951 -0.32164675534162818 2.5848440856688382 1.2368855474555651 -0.40509804604368377 -0.69071056842685064 -0.68403046568015524;1.3918821394186438 -1.3220020166115301 1.6931307297285094 1.0793670557386768 -0.6205043193422447 2.079374743520829 -1.1379954913906087;-0.28117676759197097 -0.81789927530802042 0.47596900278479543 1.6656736829598129 0.058651842136363208 1.3265970568862508 1.0592156000616775;0.18658972200762791 -1.0709632613264131 -0.88327500137833126 1.1461414342275345 -1.1696527402791561 1.2064296023023124 0.9875121647759586;-1.1931405912228499 -1.3027791593207827 0.644050437595725 1.028991239684637 -1.0512833846037797 -0.19941151242011473 1.035202760701637;0.83951000402229425 0.66407437007497838 1.7745803712947423 -1.3073026486470716 0.35054992464663892 2.8783471341224445 -0.58890496565521278;-1.3540500983387327 0.5762711746237581 1.8235895204361541 0.50914954108748123 0.42158368451197453 -0.65654974170440683 -0.73748564027947261;-1.3085967678767461 -1.5059803554332869 0.019069583712732457 0.16134196985186386 -0.33412672997071258 -1.5488236915726057 -1.0105522383902259;0.85522260535737205 1.2547583793648966 -1.2205517085111792 -0.13024806042491513 0.91732485495141958 -1.3908487000965144 -0.14390979881402666;0.94415336471673994 -0.28605963676630813 -0.78534558090007855 -1.1728687606975914 -0.60771914144001371 1.623665883682218 -0.93057511755030831;-2.675761485350491 -0.58323387505555191 0.15038005209790598 -0.93263310137222877 -0.8008708881877229 -0.29452913762358945 -0.051822587576059953;1.9230128266177573 -0.4699518499012475 0.62295780164125492 -0.19627817959906635 0.5714789491571769 0.16276698341181811 1.0021462668961423;-0.030396575260815118 -1.1946481941638258 0.46197480069569652 -1.2089998692929633 -1.9684739705073411 -0.63802249255518628 -0.063113894661410888;1.1929494678635639 0.22038547552393467 0.88364210000070376 -0.11211343353370368 -0.21954087064556971 0.30780910794242894 1.7936382138001108;-0.13551261218771504 1.2037124314145833 1.3582549496852614 -1.0443339926836877 0.091392646490533733 0.13211077724298495 2.2078170865162812;0.79047263900848708 -0.82192963686803655 1.3382584689827768 1.2926665909303625 -0.46814012751396239 0.040787175355175266 -0.22578885393956402;-0.75078137280314217 0.047903785146361594 1.9668717171864185 0.49396283537298336 -0.14985614227410129 -1.4632152789485946 -0.22747344829758817;-1.8218729609296571 2.7199689036866692 -1.9959612801738467 0.0126789868419473 -0.0046714866635314614 0.64527118362607305 0.36044297556999327;1.1637309520745256 1.0715426165257074 0.91127802428084093 -1.4675810896673633 0.34209002359639723 -0.2314755749080139 -0.99776380293876266;-0.13983640578637499 -0.54768944609479953 -0.52867291525528215 1.0885648407613793 -1.6140479468763518 -1.6549782890435796 0.72440112218494523;1.2312006132685911 1.4493350731433932 -0.078670988591638624 2.418631792249109 0.27937988197581498 0.49761131459043378 -0.21162962771170543;0.1376978996219386 -2.43253337552864 0.51101960666661628 -1.1454560901467647 0.10913082752208159 -0.13500711414473526 0.45049751834246249;-1.7650657107813568 0.95926824549031264 0.62149601628301543 -0.18507392747959878 0.83263794782159939 -1.3688486299182572 -0.11800486914581873;-1.2462536020617074 -0.63696434381276257 0.11692942811836474 -0.22200951412111591 -1.1859060433086681 0.32388916548967528 1.4916661257429635;-0.57635208330681353 0.15352679319064222 -1.267094704181444 0.5473151213781301 1.4738883119409294 0.78304279344041339 -1.2468000551781135;-1.4219279371318327 -1.1216469562891385 0.59593402514954696 -1.2972404128300934 -0.019070139896428549 0.57393166670140627 0.73087825961921959;-0.85901318634160162 -0.6440436001395079 -0.14758140452920815 1.0702590135309071 -1.6328304822380479 1.3497534699073732 -0.17592338861224219;2.0431907481290228 0.10339991440123818 -1.0466068182027508 0.29507575890136273 -0.2416025851883597 -1.2279472933449593 0.119473122746743;-1.509438625084961 0.07140219776231041 1.6762354482658219 0.40137522933008285 0.41602873479624441 -0.36564509774812393 1.1619121402636166;0.35414016591340869 -0.0064831505174010361 -1.0925539181356043 -0.7090300489106669 -1.060008466068612 -0.96576481115709312 1.3426852113289351;-0.74670532558224501 -0.95996957046925702 -2.4322029626515493 -1.2376948136786163 -0.95754453059179567 -0.65711278362025849 -0.081141038445607022;-1.8571191718540943 -0.12098376427568097 0.17312366164138729 -0.66414363193822301 1.5224951216554083 -0.58130244085476701 0.46631022271719708;-1.4343570483398487 1.1925470824836695 1.2274546033944203 0.69427691632191224 -0.39818718005454451 -0.98839284487114221 -0.37654214344005471];

% Layer 2
b2 = -0.98399037645560183;
LW2_1 = [-0.011224673363164859 0.24160940305665207 -0.16409016111693003 -0.31511991873996287 -0.92946559957437336 0.79571011929193769 -0.49606213110669711 2.3811844688750621 1.0466932953322592 0.051985377632397606 -0.68033153254362466 0.73580044654140098 1.615844085637747 -1.5555578464576763 0.68349117624103772 0.47805062376807383 -0.015034646572126428 -1.2801510126632174 -1.1177314842859194 -1.0006627460778197 0.86748570088019605 -0.83188037779617163 0.48234721400231917 -1.4709719385582281 -1.6612985979946004 -0.445391673602892 -1.4247701499665426 -0.85844985032261267 1.290741574061943 -0.85449097867665358 -0.50863152406891732 -0.012786984961462123 1.2009315998137098 1.081233561566995 -0.34726518286527686 0.40734251043456088 -0.051504899150527389 -0.8490107051392447 -0.60630909253893561 -0.16469785122650679 -1.1021900814654269 -0.39493563575672658 -1.2637895764525218 0.44665521905966221 -0.51559568762645736 0.889349094320526 0.45694818270809567 0.9981859356139362 -1.1531333273493896 0.46572944960213436 -0.98221837789301658 0.2236989542527299 1.1695187540368115 -0.30186738198179447 0.95198075005139882 0.092258989416236309 0.073113804892961765 -0.94439460390328822 0.41427837293970277 0.4631173433182022 0.42365277560671916 0.36208158957848269 -1.2050478450002899 0.54005874191678915 1.482178660233658 0.48805517306284951 -1.0134704314785759 -1.7196808416454292 -1.3631175186434039 -0.57356586581974378 -0.078675421015737226 0.20849264586711469 -0.84441957405550438 -0.067638637446362865 -0.50446180600177482 0.13484106360136169 0.32386705577532543 2.3873758166752443 0.66954704027763079 -0.89418853946377597];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.405700220959181;
y1_step1.xoffset = 1.71462554527463;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
