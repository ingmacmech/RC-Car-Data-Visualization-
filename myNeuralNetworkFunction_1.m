function [y1] = myNeuralNetworkFunction_1(x1)
%MYNEURALNETWORKFUNCTION_1 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 17-Nov-2017 10:30:09.
% 
% [y1] = myNeuralNetworkFunction_1(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [3048;3087;0];
x1_step1.gain = [0.000677966101694915;0.000252175009456563;5.65961784845383e-08];
x1_step1.ymin = -1;

% Layer 1
b1 = [-7.4384430305220128;9.9422311447798837;7.2117890818145218;-7.1390397969090618;-7.8069441956736316;-7.2660415999647636;-7.0144372879010595;10.51943700347125;7.6082777316311025;9.0011894233126526;-6.2557191935640954;9.7143941817457033;6.2476716890620745;6.1802122119101801;5.9902981145784722;6.1193828196259341;-5.8486253268789934;-5.7412891326032147;5.6804734068335199;-5.8039825524670405;8.7553831032667997;5.1666051872148699;5.4013784355332284;5.6760207246046139;-5.84888842212857;4.6196417060467443;7.3209891833228813;-5.7505858529745231;4.6201035438419558;7.4622012291576123;-3.5279919172122844;-4.4776460952035908;-5.4199142564658445;-4.2069812748548658;3.9253932931031064;-3.9423281627433573;-2.7361709268879286;-4.9861410366227004;3.6439820082461116;2.4083144812926167;3.8457588083213019;2.965878801376078;-3.618281051613057;2.5446481821260489;1.703173119711817;3.1589987655587355;2.8818597074366661;-2.5066296104778312;-5.559133676460819;2.542616276512863;-2.7345255985674783;5.5158449913011394;0.71393797276454263;-2.3538805823554161;-3.718735956273715;1.8212809925867146;-2.7376846108107773;2.5172574594092967;-0.11862387489435933;-1.5992309236742139;1.1569733418165762;1.3101267298310468;-1.3796134436016747;-3.0319860232395035;-1.3682367178011243;2.5491447968616416;-0.68308115433665695;-0.71914408091771964;0.57734916122044777;-0.68261247336149344;-1.6365038340152009;-0.25043183121150359;1.1894127587044301;-0.5585674732964252;0.51633278399313665;-0.75686565898444569;0.36817002372940139;-2.2691904418217446;-0.56417286365368613;-0.096762887671616019;0.38041249048767745;0.76241717672579112;0.93115500073049207;1.1233485849533207;10.088637813055252;-1.2183829377842728;-0.26353069318606032;2.0083273156126724;0.061832281563819196;-3.6722616829767611;-0.55670255330131579;0.38205015144298748;6.2563446674600183;4.0766039511665229;-2.0907271522623598;-2.1312771425872161;2.2521209690542072;2.0235973407002183;-4.56990247585692;1.7138303289058279;3.5872158126719382;-2.8874144120007386;1.3236682423302857;-3.335561067092899;-2.9879611331397347;2.0488040028182262;-3.3538445629146798;3.6976260130586089;-3.5412802104853132;4.4684703778809327;-4.7013562102392674;-3.6623111550965572;3.3940389344348501;-6.9733472168916784;-4.1594849232780611;3.4171702262937758;-3.9325869154771738;-4.116009972138774;3.6778338755813671;-4.2960051318571457;4.3847307096745727;4.6276298962821052;3.156088116525952;5.5439977762871306;5.1386166972162872;4.8647104226537463;-5.1774135567088866;-3.9062616301646655;8.2502362075189257;-8.6061710204718374;-6.1481086636675091;5.3155911690808511;9.9244123423048016;-5.5890061302579692;8.8093885979927666;-5.9487278174574971;-9.9147434391222831;-7.9202623892904294;11.172257972069348;6.4327371300164904;7.1469076823387745;-6.6168710158671473;-7.6662427720017217;6.7083686158040665;-6.6895881939678326;-10.247985647230829;-7.7944552894252315;-7.1637278138657798;-7.3947715917452719;-7.5249910806517972];
IW1_1 = [3.4297719808668887 4.6394743029138343 4.6953233970808714;-8.3541229042772969 -1.4148946392112023 3.1127747295190171;-3.3975837333138901 -5.8866510316917298 3.0841596003170499;0.42107398981212535 6.381000771935355 3.7998130818285332;1.8203631805503633 -8.6373998765313509 -4.5339477705366402;5.607828448593204 -2.1249977662719735 3.8537032353132243;5.6217678232759356 -5.125083726254025 2.4103278089825122;-2.1139842563804123 -1.8287638940002897 10.370212400557168;-9.7278503257788067 -5.8181219481457607 7.0735974508867194;0.74997158124947194 1.6733447654718419 9.5373046289859857;1.9449135235298018 2.7938053743113809 6.8358195277516662;-5.6143072499003681 7.5687592974139219 -1.1653065201656501;-0.20905885384194664 -6.7300092062915073 -3.1533422082756162;-1.4776425171143637 -5.7079521432691562 4.4888661067885645;-7.8184453986374889 3.1814922453338483 0.47505304301117418;0.5529145804753921 11.333561885076932 1.1371117297888349;2.1731412876754899 -2.6156708788588077 6.6359735668498692;3.6970017124833756 5.953001937767378 2.495274117640125;-2.8914388444860748 -5.3144053870457881 4.2064927408798596;4.0826641847617768 9.5222370311490252 -7.402803129471561;-7.0464452483629438 3.3113949118168091 10.78357645784039;-0.10896921718812186 4.0792344287564068 -6.3584259113933799;-7.8070774244429835 0.61164536538575698 -1.9386605885384136;0.22883253054167865 0.58662757726370418 8.6693254006281606;7.4201088900956895 -0.23512479402497388 2.2716429326946068;-4.2914814503768888 1.3715058461820486 -6.3206376320858677;-1.420646166012997 8.154389697058523 4.7334998681486038;1.9427366895115816 -6.7862789389432043 -0.089987607646886597;-2.7573092824023302 -6.6665386781929126 -1.8479014926591983;-2.335371021137453 7.9542397850365152 4.3031992565899895;9.4934998386968363 -2.4601115638702336 3.2901932747963105;0.56708612965653782 5.136736464629708 5.2685066923497699;11.223650133145263 -9.782085672854457 6.9558043239774259;4.9536331381488452 5.2827094572155939 1.6101327114676836;-6.7750272102822828 1.674373986053441 -4.516807789950839;3.6007517583452491 6.0867409406252193 2.3078942557651683;5.7455206804626 0.54704967812182337 -1.3704751749934529;7.14533700444614 5.6827306832165512 -5.6857298265362255;-0.44187164805247819 -7.3931871761920567 -0.69470083479987532;-4.8367393902639542 5.0647678674066094 -4.9148222095248961;-4.7758935981689303 1.9945960312781932 -5.3106177986703171;-1.8734597414253069 -3.9965302666689095 5.7306779504086043;3.9537489556305698 2.5652269942257675 5.7229500244664013;-1.486477220570211 5.8543707340037381 4.5260071833167252;-3.1249028490429516 -7.6810843345471387 6.3387125034598375;-3.2396799387957227 1.2599134751513328 -7.4323202298251463;-6.1065620426435085 2.5528704152601263 6.3345837616905563;0.2833109240370561 2.9613485318947115 6.9601509953957592;5.3800546485908969 -2.0452784388762142 -7.0986159517429748;-1.0907411233712223 -7.3017820061953476 -0.91859218288289435;8.8334513096938991 -2.1881462376593892 -5.8986997212193213;-6.8444816871060308 -0.076381924981246963 4.5095769443864651;-6.8523068071494064 -3.0113200467014529 -0.95361757424681748;2.4109389115186413 3.2410640876062748 6.2503785634076676;7.0707687325917004 8.7787055099188667 -3.7138553872062254;-2.0218004436828152 6.4793892448681127 3.1176591542017746;5.7750400432332256 6.0800149520209068 -1.1195232218443587;-6.2571052073967062 2.7196595347123429 -6.0668616131813051;-5.140630080107373 -8.4443269164685173 1.2580309908876961;8.5323755205895164 8.992764043701202 -2.2186920887525843;-0.46817880378280313 3.2224611335396154 6.8485391257983075;-5.0407686654234727 4.8573310908440961 4.1433022856494093;5.5522083081136397 5.4858286884671159 1.1066610536746528;4.6732654200297317 -7.9486115500854453 2.2687082248292891;2.0918415327378947 5.4058369099511063 4.5845558974425114;-7.9489779488057311 6.2299284209260239 -5.7550405384615928;3.8195964899042867 -2.6232137420053752 -6.3371081590837504;3.9796222437393545 0.10118954924649465 6.4503868400652307;-2.6451261548496774 2.8831783105457061 -7.4703424294966423;-7.4331386855153623 -5.8721912076839491 -1.443779557755076;-5.1586805760226184 2.9019819648476584 -6.8691570875516783;-3.9909087470483904 -10.793500397122777 6.1445788060940458;-2.1620246863982646 -7.140888912700408 6.8596788885215467;-6.952379340326714 -0.57873575775152308 -6.5893220349566901;-8.4660257632228948 6.5010190893318383 1.9609870820356654;-7.9259571844535692 5.8647587051689101 -3.5037537095635343;-8.1620060093082323 -5.3579753506243986 -0.13952650552030718;-6.186420091180322 -6.5441989988137577 6.2075225956307287;-4.6072353003091218 3.8189918245541374 4.4953027829147629;4.7963907942840445 1.8330219397335521 5.7228364109553338;2.3080628504342284 -6.3342342287477758 -3.1804516698451097;1.9932635391680875 5.6031529787191463 5.2810816969978953;3.1963582849063448 -3.9944845345936608 -5.4059652670016574;2.7685076050756652 -2.741601984891251 -6.3368769764548194;0.46233956356001804 -4.7770673911924577 12.563497431054278;-0.13606374515690228 5.8436915102328131 4.6421503576488181;-5.3900859094892377 -0.49791676825223674 2.2431437484978183;1.7483050933922422 7.9525019967908985 0.8664077763130178;-5.8892384036616159 2.7209552778028869 -4.7642850270097288;-4.4982288329491658 -0.32913406983793259 -7.3449017983265872;-10.120957042188117 -1.6886170948274914 -3.4052257439358855;4.6351089554094811 4.0455507696986697 5.450190703241125;1.7064189427387684 -4.8165303336140095 8.9063583517848866;6.8355594885219517 6.1393256945980976 1.5788002850936662;-0.67086329082364138 -1.2982229528718603 7.3375751093716701;-1.3143431168527233 -4.3399235434387835 -5.807028595568628;4.9284708352351068 -4.1360960069791632 -3.647826788011606;2.2940547219110052 4.0217065047797069 -6.1173528444588641;-5.922248827209641 -5.6666985662766072 2.434049001789035;4.706296839593751 5.8524147440011758 -5.827643535755775;6.9019234187387069 2.7270448989696061 3.7206722404101233;-7.8589215580094791 2.2057184398003411 1.9703997673022946;7.9796531006208786 -2.4698199921917214 3.523960712541844;-1.787278980523638 2.9114824982850456 6.5225560183965108;-1.4893385382468007 -3.6992452479994342 -0.55967257978600882;5.2497757048440139 -6.8538537686192766 6.7530490237431575;0.11013867945401454 6.1714421538608386 4.0401980272314217;4.9890667192612819 -6.5065591783696712 2.3419032291625483;-1.8411682629905426 -4.2840210190650785 5.7149559067834605;2.309611747203892 5.4020194528481795 4.313913169175879;-6.059314339826579 2.8486251743612412 -5.8108546514464159;-2.9973813896385311 6.3190279844664037 2.5150956886124964;1.468240993564911 2.7994449287374352 -6.8912381061957557;-7.4482496873673547 -0.72572180022277821 -10.204884710637694;-0.010042062731766499 4.8853482400794928 5.4730150601723295;3.5782615118038095 -6.5154937890063218 4.6785215227113266;-6.7164309227323136 2.9859119763297546 2.8475563808021125;-3.373365398789486 2.1477433525486243 6.3578083997268573;1.2752262874256235 -6.0830713052043413 6.6276767641186298;-0.37172184534813152 7.0769282856870692 2.5546271533131075;1.2348500181751865 -0.48118891014149945 -7.4005450818382643;6.4758018199416263 -4.2619336939532726 3.742620239818919;7.28858568296919 -1.2665640983179607 1.1404847817045052;4.4463469380145808 4.3257229823754226 -3.4855742572728667;3.9625027337538912 3.6911427666648944 -4.9414322412918761;1.1161367697349895 -5.1222510191056152 5.4538057531822499;-4.4226394065356045 4.2671666036741067 4.1521644064033252;-5.3846723445408244 7.3394322357580677 -6.4021127052458668;9.8487023209382443 -1.5326895324265171 6.0716502209676415;-3.1512839697328787 -11.321295278760203 -0.48833647453415036;-3.9081880764758736 4.1075168579948835 -6.2989204922697111;5.3771341527637233 -6.0951980757844861 3.1660079273566848;-0.19105879566860076 13.697645801487141 1.7549039736340182;-7.0697988420729008 0.85541350123799509 3.0888251972492498;9.3675579152787218 2.8565332460171833 5.1801037584943286;-5.5644019951364729 3.7605521597658296 -2.8444398933471335;-1.5556295603005417 -3.4445790692803753 -9.0397470252271095;-4.0688378892490356 -2.1979272239050918 -4.1924906481481656;8.1340330016399616 2.3009073154810036 8.2791297871208798;5.0382416977766136 -5.470966834466978 0.22781714325455854;5.5288189716003178 -2.9670042175073887 3.2228533524601937;-1.568009825284483 0.83650196721139991 7.3295702064699251;-3.7411625205715957 -3.5066270626906397 4.1039005977600231;5.2926886557702444 -0.41612871651790856 -5.372598238421288;-3.907842060683429 -0.30458736893970928 6.5923401450895351;-0.69474602203822267 1.8523153128836796 -10.578538968021522;-3.5551262296410875 -0.18829523627347722 -9.4156024148664628;-1.982887143611874 -1.1548205443978896 7.149049806178045;-6.5060307992699382 -1.70910224188905 3.0312198961394263;-4.3586329005360289 4.9571064467831754 -3.2834746578165053];

% Layer 2
b2 = 0.24006873868541959;
LW2_1 = [-0.086750096638955027 5.0025332261665998 -0.30748144442836517 0.040238894398514961 2.841482177005525 0.4728410045934206 1.9768360381807732 -4.3725565631012033 -2.2536575187392822 -3.7203732851429088 0.96628123748955552 2.9220558756969779 0.96973620237073543 -0.89064004205913272 2.1815301645977598 0.60389377740793881 -0.54946804947052164 0.5165847088511919 0.20052759742280904 3.5027847635835307 -2.2433282941129518 -0.098246075915761205 -0.57745482028964978 -3.8970441118286181 2.8314965532957559 1.0119623812700265 2.7398275916432722 -1.5521725488696403 -0.51589185160580853 1.8863935422674571 0.40935369541237299 -0.66283671356270257 1.7384436136687986 0.25870527051172815 -2.5691704294122193 -0.42930330340164985 4.8688503568707961 -1.1742749653579665 -0.33970254435997926 0.84875619346249809 -0.73843313788720988 -4.5144728423198215 1.0581378600773235 -1.3098920842537456 4.2110325524739602 -2.246425347503735 1.424957175476615 0.68681278555017333 -3.4709869078542539 -0.88677644316902771 -2.2307095673572706 1.3296516483203999 4.0149159202487184 0.64482286009278189 -5.1096974667444783 -0.1196890335001301 -3.7418104301389206 -3.2396035057527728 -3.0185156113227767 -4.0680201751078178 0.14677128958676267 1.4884015029862276 -2.5468962513633384 -1.5515365603690099 -0.89809961853754194 3.8105236115002348 2.1125120227529979 0.0063260369517265293 4.410991102879624 -3.7534002801451805 1.9685191629065983 -2.0882742701920964 1.5609761052543143 -3.7088205087117485 -1.4393374455416592 -1.4483492397074056 1.6451391503118602 -3.3321176502124175 -0.44244087588296283 -1.8515768188106687 -0.88447550097245153 -2.9139820117006918 0.88700863828886189 0.44692737263125193 4.6938544062150651 0.69343349990621939 -2.2050150533960968 2.8984449177332436 -5.5131174706091581 -5.585517536159883 2.2578871458291525 -2.1368720043665177 2.0208900281037274 0.40449982312035543 0.42686469006167638 0.60181114852803674 -0.684057046458868 0.94454264438379665 3.0221544628780026 -2.4758004749636697 -2.5634941097688748 -1.3646860670866314 0.8332935598832204 -1.5084769030163652 5.3900741520781787 1.3107102769766792 -0.71926319914923242 -1.8606895424973371 0.28227587405030391 -3.3968927464296246 2.8454952166812775 -0.31340933513809599 -0.63826947926439126 -2.366389417297766 -0.24654967353700707 3.2936387098122002 2.2904237731724422 -0.86625527296443205 -4.0979360454139364 0.64384686263971858 -0.82030538996872793 -3.0103507733239545 6.3214860111477726 -1.0243572412701454 -0.69557242609268943 -0.78363101996960505 0.08121560704086539 -1.738528929988473 -3.7067662068521741 -1.1742980377188905 2.2799605069780462 2.7359855716855375 0.63985341864408152 1.3562018345323634 -2.4188716462696838 -0.28542375182544127 -1.8622168590783119 -3.4873182670441079 3.327977294117126 0.27885284906395408 0.24642945811826281 1.0597845918864988 -1.502010746167415 -0.21805566612741717 -0.52254645306019709 6.843972841238255 -1.9993365795109126 0.067300039985036003 -0.18478880385812887 0.69851247051112897];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.24519677090296;
y1_step1.xoffset = -1.344599216494;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
